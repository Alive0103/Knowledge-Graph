# 检索模式评测结果分析报告

**评测日期**: 2025-12-02  
**测试集**: find.xlsx  
**评测指标**: MRR, Hit@1, Hit@5, Hit@10

---

## 📊 评测结果总览

| 模式 | MRR | Hit@1 | Hit@5 | Hit@10 | 排名 |
|------|-----|-------|-------|--------|------|
| **混合检索+LLM** | **0.7191** | **0.6644** | **0.7860** | **0.8086** | 🥇 1 |
| **文本检索+LLM** | 0.7145 | **0.6644** | 0.7748 | 0.7995 | 🥈 2 |
| **混合检索(无LLM)** | 0.6263 | 0.5428 | 0.7342 | 0.7815 | 🥉 3 |
| **向量检索(双字段)** | 0.1550 | 0.1149 | 0.1914 | 0.2545 | 4 |
| **向量检索(对齐)** | 0.1488 | 0.0878 | 0.2185 | 0.2703 | 5 |
| **向量检索+LLM** | 0.1048 | 0.0856 | 0.1261 | 0.1284 | 6 |
| **向量检索(无LLM)** | 0.0587 | 0.0383 | 0.0788 | 0.1126 | 7 |

---

## 🔍 深度分析

### 1. 混合检索+LLM：综合性能最优 🏆

**表现**: MRR 0.7191, Hit@5 0.7860, Hit@10 0.8086（最高）

**优势**:
- ✅ **综合优势**: 结合了文本匹配和语义理解，兼顾精确性和召回率
- ✅ **LLM 增强**: 使用 LLM 生成规范化定义，提升向量检索质量
- ✅ **LLM 重排序**: 最终排序阶段 LLM 的精细判断
- ✅ **召回能力强**: 在 Hit@5 (0.7860) 和 Hit@10 (0.8086) 上表现最优

**劣势**:
- ⚠️ Hit@1 与文本检索持平（0.6644），说明在精确匹配场景下优势不明显

**结论**: 
> **混合检索+LLM 是综合性能最优的模式，适合大多数生产场景。**

---

### 2. 文本检索+LLM：精确匹配的胜利 ⚡

**表现**: MRR 0.7145, Hit@1 0.6644（与混合检索持平）

**优势**:
- ✅ **精确匹配能力强**: 对于"AK47"、"F-16战斗机"这类查询，文本匹配能直接命中实体名称
- ✅ **LLM 重排序精准**: LLM 能够理解实体别名、定义的细微差别，做出准确判断
- ✅ **领域适配性好**: 军事领域实体名称相对规范，文本匹配效果显著
- ✅ **响应速度快**: 无向量生成延迟，响应更快

**劣势**:
- ⚠️ 在 Hit@5 和 Hit@10 上略低于混合检索，说明召回能力稍弱

**结论**: 
> **在实体名称规范、查询文本与实体名称匹配度高的场景下，文本检索 + LLM 重排序是优秀的选择。**

---

### 3. 混合检索(无LLM) 模式：LLM 价值的证明 💎

**表现**: MRR 0.6263, Hit@1 0.5428

**关键发现**:

#### LLM 重排序的贡献

| 指标 | 混合检索(无LLM) | 混合检索+LLM | 提升幅度 |
|------|---------------|-------|---------|
| MRR | 0.6263 | 0.7191 | **+14.8%** ⬆️ |
| Hit@1 | 0.5428 | 0.6644 | **+22.4%** ⬆️ |
| Hit@5 | 0.7342 | 0.7860 | **+7.1%** ⬆️ |
| Hit@10 | 0.7815 | 0.8086 | **+3.5%** ⬆️ |

**分析**:
- ✅ **LLM 重排序带来显著提升**: MRR 提升 14.8%，Hit@1 提升 22.4%
- ✅ **ES 混合检索本身有效**: 0.6263 的 MRR 已经比纯向量检索（0.0587）好 **10.7 倍**
- ⚠️ **排序精度不足**: 仅靠 ES 分数无法进行细粒度的语义判断

**结论**:
> **LLM 重排序是系统性能的关键组件，带来了 15-22% 的性能提升。ES 混合检索本身已经比纯向量检索好 10 倍以上。**

---

### 4. 向量检索优化方案：对齐 vs 双字段 🔬

#### 4.1 向量检索(双字段) - 方案B

**表现**: MRR 0.1550, Hit@1 0.1149

**策略**:
- 同时搜索四个向量字段：`descriptions_zh_vector`、`descriptions_en_vector`、`label_zh_vector`、`label_en_vector`
- 融合所有字段的检索结果，保留最高分数
- 目标：为短文本查询提供更好的匹配（通过标签向量）

**效果**: 比纯向量检索（0.0587）提升 **164%**

#### 4.2 向量检索(对齐) - 方案A

**表现**: MRR 0.1488, Hit@1 0.0878

**策略**:
- 使用 LLM 生成规范化定义后向量化
- 对齐查询向量（从定义生成）和索引向量（从描述生成）的语义空间
- 目标：解决查询向量（短文本）和索引向量（长描述）的语义空间不匹配问题

**效果**: 比纯向量检索（0.0587）提升 **153%**

#### 4.3 对比分析

| 方案 | MRR | Hit@1 | Hit@5 | Hit@10 | 提升幅度 |
|------|-----|-------|-------|--------|---------|
| 向量检索(无LLM) | 0.0587 | 0.0383 | 0.0788 | 0.1126 | baseline |
| 向量检索(对齐) | 0.1488 | 0.0878 | 0.2185 | 0.2703 | **+153%** |
| 向量检索(双字段) | 0.1550 | 0.1149 | 0.1914 | 0.2545 | **+164%** |

**关键发现**:
- ✅ **双字段方案略优**: MRR 0.1550 vs 0.1488，提升约 4%
- ✅ **两种方案都有效**: 都能显著提升纯向量检索效果（150%+）
- ⚠️ **但仍远低于文本/混合检索**: 即使优化后，MRR 仍只有 0.15，远低于文本检索的 0.71

**结论**:
> **向量检索优化方案（对齐、双字段）虽然显著提升了纯向量检索的效果，但仍无法与文本检索或混合检索相比。向量检索更适合作为混合检索的补充，而非独立使用。**

---

### 5. 向量检索模式：语义检索的局限性 ⚠️

**表现**: MRR 0.0587-0.1048, Hit@1 0.0383-0.0856（最低）

**问题分析**:

#### 为什么纯向量检索表现这么差？

1. **语义空间拥挤**
   ```
   查询: "AK47"
   语义相近的实体:
   - AK-103 (相似度: 0.9487)
   - AK-102 (相似度: 0.9424)
   - AK-101 (相似度: 0.9407)
   - AK-74 (相似度: 0.93xx)
   ```
   这些实体在语义空间中非常接近，纯向量检索难以区分。

2. **描述文本相似**
   - 很多军事实体的描述文本在语义上高度相似
   - 例如："XX 是俄罗斯制造的突击步枪，AK 枪族成员之一"
   - 向量检索无法利用实体名称的精确匹配信息

3. **缺乏领域知识**
   - 纯向量检索无法理解"AK47"和"AK-103"的区别
   - 需要结合文本匹配或 LLM 的领域知识

**排序机制**:
- 在不使用 LLM 的情况下，向量检索的排序完全依赖于 Elasticsearch 的 KNN 搜索
- 使用余弦相似度计算查询向量与文档向量之间的相似度
- 根据相似度得分从高到低排序，得分越高表示越相似
- 即使使用 LLM 重排序，如果正确实体不在候选集的前几位，LLM 也很难从一堆语义相似的实体中找出正确的那一个

**对比**:
- 向量检索(无LLM) (0.0587) vs 混合检索(无LLM) (0.6263): **相差 10.7 倍**
- 向量检索(无LLM) (0.0587) vs 文本检索+LLM (0.7145): **相差 12.2 倍**
- 向量检索(双字段) (0.1550) vs 文本检索+LLM (0.7145): **仍相差 4.6 倍**

**结论**:
> **纯向量检索不适合细粒度实体区分任务。即使使用对齐方案或双字段方案优化，效果仍远低于文本检索或混合检索。向量检索更适合作为混合检索的补充，提供语义召回能力。**

---

## 📈 性能对比图表

### MRR 对比

```
混合检索+LLM:  ████████████████████████████████████████ 0.7191
文本检索+LLM:  ███████████████████████████████████████  0.7145
混合检索(无):  ████████████████████████████             0.6263
向量检索(双):  ████                                     0.1550
向量检索(对齐): ████                                    0.1488
向量检索+LLM:  ██                                       0.1048
向量检索(无):  ██                                       0.0587
```

### Hit@1 对比

```
混合检索+LLM:  ████████████████████████████████████████ 0.6644
文本检索+LLM:  ████████████████████████████████████████ 0.6644
混合检索(无):  ███████████████████████████             0.5428
向量检索(双):  ███                                      0.1149
向量检索(对齐): ██                                      0.0878
向量检索+LLM:  ██                                      0.0856
向量检索(无):  █                                       0.0383
```

---

## 🎯 关键洞察

### 1. 混合检索+LLM 综合最优

**数据支撑**:
- Hybrid (0.7191) > Text (0.7145): 在 Hit@5 和 Hit@10 上表现更好
- Hybrid 在 Hit@5 (0.7860) 和 Hit@10 (0.8086) 上最优

**结论**: 混合检索+LLM 是综合性能最优的模式，适合大多数生产场景。

### 2. LLM 重排序的价值

**数据支撑**:
- 混合检索(无LLM) → 混合检索+LLM: **+14.8% MRR, +22.4% Hit@1**

**结论**: LLM 重排序是系统性能的关键组件，带来了显著的性能提升。

### 3. 向量检索优化方案的有效性

**数据支撑**:
- 向量检索(双字段) (0.1550) vs 向量检索(无LLM) (0.0587): **+164% 提升**
- 向量检索(对齐) (0.1488) vs 向量检索(无LLM) (0.0587): **+153% 提升**

**结论**: 对齐方案和双字段方案都能显著提升向量检索效果，但效果仍远低于文本/混合检索。

### 4. 向量检索的局限性

**数据支撑**:
- 向量检索(无LLM) (0.0587) << 混合检索(无LLM) (0.6263): 相差 **10.7 倍**
- 即使优化后，向量检索(双字段) (0.1550) 仍远低于文本检索 (0.7145): 相差 **4.6 倍**

**结论**: 纯向量检索不适合细粒度实体区分任务。向量检索更适合作为混合检索的补充，而非独立使用。

### 5. 文本匹配的优势

**数据支撑**:
- Text (0.7145) 在 Hit@1 上与 Hybrid (0.7191) 持平
- 在实体名称规范、查询匹配度高的场景下，文本检索已经足够好

**结论**: 在实体名称规范、查询匹配度高的场景下，文本检索是优秀的选择。

---

## 💡 优化建议

### 1. 生产环境推荐

**首选方案**: `hybrid` 模式（混合检索+LLM）
- 综合性能最好（MRR: 0.7191）
- 在 Hit@5 和 Hit@10 上表现最优
- 适合大多数场景

**备选方案**: `text` 模式（文本检索+LLM）
- 如果查询文本与实体名称高度匹配
- 需要最快响应速度（无向量生成延迟）
- 性能与 Hybrid 接近（MRR: 0.7145）

**不推荐**: 纯向量检索模式
- 即使使用对齐方案或双字段方案优化，效果仍远低于文本/混合检索
- 向量检索更适合作为混合检索的补充

### 2. 进一步优化方向

#### A. 提升向量检索质量
- 优化向量模型训练，增加领域数据
- 使用更高质量的实体描述文本
- 考虑使用多模态向量（文本+结构化信息）

#### B. 优化 LLM Prompt
- 改进 `get_alias_and_definition` 的 prompt，提升定义生成质量
- 优化 `generate_prompt_and_sort` 的 prompt，提升排序准确性

#### C. 调整检索权重
- 在 Hybrid 模式中，调整文本/向量检索的 boost 权重
- 根据查询类型动态调整权重（如英文查询提高向量权重）

#### D. 增加候选集大小
- 在 LLM 重排序前，增加候选实体数量（如从 20 增加到 30-50）
- 让 LLM 有更多选择，提升最终排序质量

---

## 📝 实验设计建议

### Ablation Study 设计

1. **Text vs Hybrid**: 评估向量检索的贡献
2. **Hybrid_No_LLM vs Hybrid**: 评估 LLM 重排序的贡献（已完成）
3. **Vector vs Hybrid_No_LLM**: 评估文本检索的贡献

### 进一步实验

1. **不同 LLM 模型对比**: 测试不同 LLM 模型（如 GLM-4, GPT-4）的重排序效果
2. **不同向量模型对比**: 测试不同向量模型（如 BGE, M3E）的检索效果
3. **不同领域测试**: 在非军事领域（如医疗、金融）测试系统泛化能力

---

## 🔗 相关文档

- [检索模式评测说明.md](./检索模式评测说明.md): 详细的技术实现和使用方法
- [search_withllm.py](./search_withllm.py): 源代码实现

---

## 🔍 重要发现：向量字段检查的差异

### 问题：为什么两个检查脚本结果不一样？

#### 1. `check_entities.py` 的检查方式

```python
# 通过 _source 字段检查向量
"_source": ["label", "descriptions_zh_vector", "descriptions_en_vector", "content_vector"]
source = hit['_source']
if field in source and source[field]:
    # 检查向量是否存在
```

**结果**: 显示向量字段"不存在或为空"

**原因**: 
- ❌ **阿里云 ES Serverless 的 `dense_vector` 字段不会出现在 `_source` 中**
- 这是**正常现象**，因为向量数据存储在专门的向量存储引擎中
- 向量字段虽然存在，但 ES 默认不会在 `_source` 中返回（为了节省带宽和存储）

#### 2. `check_vector_data.py` 的检查方式

```python
# 通过 exists 查询检查向量字段是否存在
query = {
    "query": {
        "exists": {"field": "descriptions_zh_vector"}
    }
}
```

**结果**: 显示 100% 的文档都有向量字段

**原因**:
- ✅ **`exists` 查询直接检查字段是否存在**，不依赖 `_source`
- 这种方式可以正确检测到向量字段

### 结论

**`check_vector_data.py` 的检查方式是正确的**，向量字段确实存在且可以用于检索。

**`check_entities.py` 的检查方式有误导性**，因为通过 `_source` 检查 dense_vector 字段会显示"不存在"，但实际上向量数据是存在的。

---

## 🤔 为什么向量检索效果这么差？

### 关键问题分析

虽然向量字段存在且向量检索功能正常（从 `check_vector_data.py` 的测试可以看出），但评测结果（MRR: 0.0896）仍然很差。原因如下：

#### 1. 向量检索本身是正常的 ✅

从 `check_vector_data.py` 的测试结果可以看到：
- ✅ 向量搜索能找到相关文档
- ✅ 相似度分数合理（0.96-0.97）
- ✅ 返回的结果语义相关

**例如查询"战斗机"**:
```
1. 相似度: 0.9681, 标题: 歼-12
2. 相似度: 0.9679, 标题: Nanchang_J-12
3. 相似度: 0.9675, 标题: Fuji_T-7
```

这些结果在语义上都是相关的。

#### 2. 但为什么评测结果这么差？❌

**核心问题：细粒度实体区分能力不足**

1. **语义空间拥挤**
   - 查询"AK47"时，向量检索返回：
     - AK-103 (相似度: 0.9487)
     - AK-102 (相似度: 0.9424)
     - AK-101 (相似度: 0.9407)
   - 这些实体在语义空间中非常接近，**纯向量检索无法区分哪个是"正确的"**

2. **缺乏精确匹配信息**
   - 向量检索只看语义相似度，无法利用：
     - 实体名称的精确匹配（"AK47" vs "AK-47"）
     - 别名的精确匹配
     - 链接的精确匹配

3. **LLM 重排序的局限性**
   - 当向量检索返回的候选集中，**正确实体不在 Top-1 或 Top-3** 时
   - LLM 重排序也很难从一堆语义相似的实体中找出"正确的那一个"
   - 因为 LLM 看到的都是"AK 枪族成员"、"俄罗斯制造的突击步枪"这类相似描述

#### 3. 对比：为什么混合检索效果好？

**Hybrid_No_LLM (MRR: 0.6246)** vs **Vector (MRR: 0.0896)**

差异在于：
- ✅ **文本检索提供了精确匹配信号**：能直接匹配到"AK-47"这个实体名称
- ✅ **向量检索提供了语义召回**：能找到语义相关但名称不完全匹配的实体
- ✅ **两者结合**：既有精确性，又有召回率

**Hybrid (MRR: 0.7073)** vs **Hybrid_No_LLM (MRR: 0.6246)**

差异在于：
- ✅ **LLM 重排序的精细判断**：能从混合检索的候选集中，根据别名、定义等细节，找出最匹配的实体

---

## 📊 正式 ES Search 时采用的方式

### 实际使用的检查方式

**正式检索时，系统使用的是 `check_vector_data.py` 的方式**：

1. **向量检索**：直接使用 KNN 查询，不依赖 `_source`
   ```python
   knn_query = {
       "field": "descriptions_zh_vector",
       "query_vector": query_vector,
       "k": top_k
   }
   ```

2. **向量字段存在性检查**：使用 `exists` 查询
   ```python
   query = {"query": {"exists": {"field": "descriptions_zh_vector"}}}
   ```

3. **不依赖 `_source`**：向量数据存储在专门的向量存储中，不需要从 `_source` 获取

### 为什么向量检索效果差？总结

| 检查方式 | 结果 | 原因 |
|---------|------|------|
| `check_entities.py` (通过 `_source`) | ❌ 显示向量不存在 | 阿里云 ES 的 dense_vector 字段不会出现在 `_source` 中 |
| `check_vector_data.py` (通过 `exists`) | ✅ 显示向量存在 | 直接检查字段是否存在，不依赖 `_source` |
| **实际检索** | ✅ 向量检索正常工作 | 使用 KNN 查询，不依赖 `_source` |

**向量检索功能是正常的**，但评测结果差的原因是：
- ❌ **纯向量检索不适合细粒度实体区分任务**
- ❌ **需要结合文本匹配或 LLM 的领域知识才能达到好的效果**

这解释了为什么：
- Vector (0.0896) << Hybrid_No_LLM (0.6246) << Hybrid (0.7073)

---

## 📅 测试输出

### check_entities.py
ES实体检查工具
==================================================

检查实体: 'AK-47'
------------------------------
✓ 在ES中找到 'AK-47' 的相关实体:
  1. 标题: AK-47 (得分: 28.4799)
     中文别名: 卡拉什尼科夫自動步槍, АК-47, 卡拉什尼科夫, AK47自动步枪, 卡лаш, 卡拉什尼科夫自动步枪, AK, AK-47, AK-47突击步枪, AK47
     英文别名: AK-47, Kalashnikov automatic rifle, Avtomat Kalashnikova, Kalashnikov, AK-47, AK, AK47, Kalash, AK-47 assault rifle, AK47 automatic rifle
     链接: https://en.wikipedia.org/wiki/AK-47

  2. 标题: 卡拉什尼科夫自動步槍 (得分: 17.2885)
     中文别名: 卡拉什尼科夫自動步槍, АК-47, 卡拉什尼科夫, AK47自动步枪, 卡лаш, 卡拉什尼科夫自动步枪, AK, AK-47, AK-47突击步枪, AK47
     英文别名: Kalashnikov automatic rifle, Avtomat Kalashnikova, Kalashnikov, AK-47, AK, AK47, Kalash, AK-47 assault rifle, AK47 automatic rifle
     链接: https://zh.wikipedia.org/wiki/卡拉什尼科夫自動步槍

  3. 标题: North_American_O-47 (得分: 14.9440)
     中文别名: O-47觀察機, 北美O-47, O-47观察机, O-47, O47
     英文别名: North American O-47, North American O-47, O-47, O47, O-47, North American O-47, O-47, O47, O-47 observation aircraft
     链接: https://en.wikipedia.org/wiki/North_American_O-47

  4. 标题: AC-47 (得分: 14.9440)
     中文别名: AC-47, AC-47, AC-47, 道格拉斯AC-47“幽灵”, AC-47“幽灵”
     英文别名: Douglas AC-47 Spooky, AC-47 Spooky, AC-47 Spooky, AC-47, Douglas AC-47 Spooky, Douglas AC-47 'Phantom', AC-47 'Phantom'
     链接: https://zh.wikipedia.org/wiki/AC-47

  5. 标题: Sukhoi_Su-47 (得分: 14.9440)
     中文别名: Su-47金雕式戰鬥機, Su-47, 苏-47, SU47, Su-47金雕式战斗机, 苏凯-47, 苏-47战斗机, S-37, Su-47战斗机, S-32, Su-47金雕式战斗机, Su-47, 苏霍伊苏-47, 苏-47, 猎鹰, 小桶, 苏霍伊苏-47猎鹰, SU47, Su-47战斗机, 苏凯-47, 苏-47战斗机, S-37
     英文别名: Sukhoi Su-47, S-32, Su-47 Berkut, Firkin, Su-47 Berkut, Berkut, Su-47 Berkut, S-37, Su-47 Berkut, Sukhoi Su-47, Su-47 Berkut, Firkin, Little Barrel, S-32, Sukhoi Su-47 Berkut, Sukhoi Su-47 Falcon, Sukhoi Su-47, Berkut, Su-47, SU47, Su-47 fighter, Falcon, S-37, Su-47 Berkut fighter
     链接: https://en.wikipedia.org/wiki/Sukhoi_Su-47

  6. 标题: AK-630 (得分: 13.5358)
     中文别名: AK-630近迫武器系統, AK-630近迫武器系统, AK-630这两种武器系统的中文分别为：AO-18, AO-18, AK-630
     英文别名: AK-630, AK-630 Close-In Weapon System, AO-18, AK-630
     链接: https://en.wikipedia.org/wiki/AK-630

  7. 标题: AK-103 (得分: 13.5358)
     中文别名: AK-103突击步枪, AK-103突击步枪, AK-103, AK103, 卡拉什尼科夫AK-103, AK-103, AK-103突击步枪, AK 103
     英文别名: AK-103, AK 103, AK-103, AK103, AK-103, Kalashnikov AK-103, AK-103, AK-103 assault rifle, AK103, AK-103, AK 103, Kalashnikov AK-103
     链接: https://en.wikipedia.org/wiki/AK-103

  8. 标题: AK-101 (得分: 13.5358)
     中文别名: AK-101突击步枪, AK-101突击步枪, AK-101, AK-100步枪系列, AK100步枪系列, AK-10X, AK-101突击步枪, AK-101, AK-100, AK100系列, AK 101突击步枪, AK101, AK100
     英文别名: AK-101, AK 101 Assault Rifle, AK-101, AK-100, AK-101, AK-100 rifle series, AK-101, AK-10X, AK-101, AK100, AK-101, AK100 rifle series, AK-101, AK100 series, AK-101, AK101, AK-101, AK-101 assault rifle, AK-100 rifle series, AK-10X, AK100 rifle series, AK 101 Assault Rifle, AK 101 assault rifle, AK-101, AK-100, AK100 series, AK101, AK100
     链接: https://en.wikipedia.org/wiki/AK-101

  9. 标题: AK-74 (得分: 13.5358)
     中文别名: AK-74突击步枪, AK-74, AKS-74, АК-74, AK-74突击步枪, АК-74, AK-74, AKS-74, AK-74突击步枪
     英文别名: AK-74, AK-74, АК-74, AKS-74, AK-74, Assault Rifle AK-74
     链接: https://en.wikipedia.org/wiki/AK-74

  10. 标题: AK-12 (得分: 13.5358)
     中文别名: AK-12突击步枪, AK-12突击步枪, AK-200突击步枪, AK-200突击步枪, AK-12突击步枪
     英文别名: AK-12, AK-12, AK-200 assault rifle, AK-12 assault rifle, AK-12
     链接: https://en.wikipedia.org/wiki/AK-12

✓ 'AK-47' 的向量字段检查:
  1. 实体: AK-47
     descriptions_zh_vector: 不存在或为空
     descriptions_en_vector: 不存在或为空
     content_vector: 不存在或为空

  2. 实体: 卡拉什尼科夫自動步槍
     descriptions_zh_vector: 不存在或为空
     descriptions_en_vector: 不存在或为空
     content_vector: 不存在或为空

  3. 实体: North_American_O-47
     descriptions_zh_vector: 不存在或为空
     descriptions_en_vector: 不存在或为空
     content_vector: 不存在或为空

  4. 实体: AC-47
     descriptions_zh_vector: 不存在或为空
     descriptions_en_vector: 不存在或为空
     content_vector: 不存在或为空

  5. 实体: Sukhoi_Su-47
     descriptions_zh_vector: 不存在或为空
     descriptions_en_vector: 不存在或为空
     content_vector: 不存在或为空

--------------------------------------------------

检查实体: 'F-16'
------------------------------
✓ 在ES中找到 'F-16' 的相关实体:
  1. 标题: F-16戰隼戰鬥機 (得分: 15.9220)
     中文别名: F-16戰隼戰鬥機, 洛克希德F-16战隼, F-16, 战隼, 洛克希德·马丁F-16战隼, 通用动力战隼, F-16战隼战斗机, 通用动力F-16战隼, F16, 蝰蛇
     英文别名: Viper, F-16, F16, General Dynamics Fighting Falcon, General Dynamics F-16 Fighting Falcon, Lockheed Martin F-16 Fighting Falcon, Lockheed F-16 Fighting Falcon, Fighting Falcon, F-16 Fighting Falcon
     链接: https://zh.wikipedia.org/wiki/F-16戰隼戰鬥機

  2. 标题: General_Dynamics_F-16_Fighting_Falcon (得分: 15.4699)
     中文别名: F-16戰隼戰鬥機, 洛克希德F-16战隼, F-16, 战隼, 洛克希德·马丁F-16战隼, 通用动力战隼, F-16战隼战斗机, 通用动力F-16战隼, F16, 蝰蛇
     英文别名: General Dynamics F-16 Fighting Falcon, Viper, F-16, F16, General Dynamics Fighting Falcon, General Dynamics F-16 Fighting Falcon, Lockheed Martin F-16 Fighting Falcon, Lockheed F-16 Fighting Falcon, Fighting Falcon, F-16 Fighting Falcon
     链接: https://en.wikipedia.org/wiki/General_Dynamics_F-16_Fighting_Falcon

  3. 标题: NF-16D (得分: 15.1057)
     中文别名: NF-16D, NF-16D, 通用动力NF-16D, F-16 VISTA, F-16可变模拟技术验证机, NF-16D, 通用动力X-62 VISTA, 可变稳定性空中模拟测试飞机
     英文别名: F-16 MATV, General Dynamics F-16 VISTA, F-16 VISTA, General Dynamics F-16 VISTA, General Dynamics NF-16D, General Dynamics F-16 VISTA, General Dynamics X-62 VISTA, General Dynamics F-16 VISTA, NF-16D, General Dynamics F-16 VISTA, Variable Stability In-flight Simulator Test Aircraft, General Dynamics F-16 VISTA, F-16 Variable Stability Simulation Test Aircraft, F-16 MATV, F-16 VISTA, General Dynamics NF-16D, General Dynamics X-62 VISTA, Variable Stability In-Flight Simulation Test Aircraft, NF-16D, Variable Stability In-flight Simulator Test Aircraft
     链接: https://zh.wikipedia.org/wiki/NF-16D

  4. 标题: General_Dynamics_X-62_VISTA (得分: 14.8602)
     中文别名: NF-16D, NF-16D, 通用动力NF-16D, F-16 VISTA, F-16可变模拟技术验证机, NF-16D, 通用动力X-62 VISTA, 可变稳定性空中模拟测试飞机
     英文别名: General Dynamics X-62 VISTA, F-16 MATV, General Dynamics F-16 VISTA, F-16 VISTA, General Dynamics F-16 VISTA, General Dynamics NF-16D, General Dynamics F-16 VISTA, General Dynamics X-62 VISTA, General Dynamics F-16 VISTA, NF-16D, General Dynamics F-16 VISTA, Variable Stability In-flight Simulator Test Aircraft, General Dynamics F-16 VISTA, F-16 Variable Stability Simulation Test Aircraft, F-16 MATV, F-16 VISTA, General Dynamics NF-16D, General Dynamics X-62 VISTA, Variable Stability In-Flight Simulation Test Aircraft, NF-16D, Variable Stability In-flight Simulator Test Aircraft
     链接: https://en.wikipedia.org/wiki/General_Dynamics_X-62_VISTA

  5. 标题: Flammenwerfer_M.16. (得分: 13.5358)
     中文别名: M.16型火焰噴射器, M.16型火焰喷射器, M.16型火焰喷射器, 16号火焰喷射器, M.16火焰喷射器
     英文别名: Flammenwerfer M.16., Flammenwerfer 16, Flammenwerfer M.16., M.16 Flamethrower, Flammenwerfer M.16., M.16 flamethrower, Model 16 flamethrower, Flammenwerfer M.16, Flammenwerfer 16, M.16 flamethrower. M.16 flamethrower, M.16 Flamethrower
     链接: https://en.wikipedia.org/wiki/Flammenwerfer_M.16.

  6. 标题: HQ-16 (得分: 13.5358)
     中文别名: 红旗-16中程防空导弹, LY-80中程防空导弹, 红旗-16中程防空导弹, 红旗-16防空导弹, HQ-16, 红旗-16防空导弹, HQ-16, 红旗-16中程防空导弹, LY-80中程防空导弹
     英文别名: HQ-16, HQ-16, Hongqi-16 surface-to-air missiles, HQ-16, Hongqi-16 medium-range surface-to-air missiles, LY-80 medium-range surface-to-air missiles
     链接: https://en.wikipedia.org/wiki/HQ-16

  7. 标题: Shenyang_J-16 (得分: 13.5358)
     中文别名: 歼-16, 歼-16, J16, J-16, 歼-16, 沈阳J-16
     英文别名: Shenyang J-16, J16, J-16, J 16, J-16, Shenyang J-16, J-16, J16, Shenyang J-16, J 16, J-16
     链接: https://en.wikipedia.org/wiki/Shenyang_J-16

  8. 标题: General_Airborne_Transport_XCG-16 (得分: 13.5358)
     中文别名: XCG-16滑翔運輸機, XCG-16滑翔运输机
     英文别名: General Airborne Transport XCG-16, General Airborne Transport XCG-16, General Airborne Transport XCG-16
     链接: https://en.wikipedia.org/wiki/General_Airborne_Transport_XCG-16

  9. 标题: Tupolev_Tu-16 (得分: 13.5358)
     中文别名: 圖-16轟炸機, 图-16, Tu-16轰炸机, 图-16轰炸机, 图波列夫图-16獾, Tu-16轰炸机, 图-16, 图-16轰炸机, 獾
     英文别名: Tupolev Tu-16, Badger, Tupolev Tu-16 Badger, Tu-16 bomber, Tu-16, Tupolev Tu-16 Badger, Badger
     链接: https://en.wikipedia.org/wiki/Tupolev_Tu-16

  10. 标题: RPG-16 (得分: 13.5358)
     中文别名: RPG-16, 火箭推进榴弹-16, RPG-16, 火箭推进榴弹-16, 火箭筒16, RPG16 —— RPG火箭筒-16
     英文别名: RPG16, RPG-16, RPG16, RPG-16, Rocket Propelled Grenade-16, RPG16 — RPG Launcher-16, Launcher 16
     链接: https://zh.wikipedia.org/wiki/RPG-16

✓ 'F-16' 的向量字段检查:
  1. 实体: F-16戰隼戰鬥機
     descriptions_zh_vector: 不存在或为空
     descriptions_en_vector: 不存在或为空
     content_vector: 不存在或为空

  2. 实体: General_Dynamics_F-16_Fighting_Falcon
     descriptions_zh_vector: 不存在或为空
     descriptions_en_vector: 不存在或为空
     content_vector: 不存在或为空

  3. 实体: NF-16D
     descriptions_zh_vector: 不存在或为空
     descriptions_en_vector: 不存在或为空
     content_vector: 不存在或为空

  4. 实体: General_Dynamics_X-62_VISTA
     descriptions_zh_vector: 不存在或为空
     descriptions_en_vector: 不存在或为空
     content_vector: 不存在或为空

  5. 实体: Polikarpov_I-16
     descriptions_zh_vector: 不存在或为空
     descriptions_en_vector: 不存在或为空
     content_vector: 不存在或为空

--------------------------------------------------

检查实体: '步枪'
------------------------------
✓ 在ES中找到 '步枪' 的相关实体:
  1. 标题: 步枪 (得分: 17.6164)
     中文别名: 步枪, 前膛枪, 步枪, 来福枪, 线膛铳, 前膛枪, 来福枪, 步枪, 线膛铳
     英文别名: rifle, rifled gun, rifle, Rifle, muzzleloader
     链接: https://zh.wikipedia.org/wiki/步枪

  2. 标题: SVD_(rifle) (得分: 17.4636)
     中文别名: SVD狙擊步槍, SVD, SVD Dragunov, SVD狙击步枪, 德拉古诺夫狙击步枪, SVD-63, 1963年德拉古诺夫狙击步枪, 德拉古诺夫的狙击步枪, 德拉古诺夫, SVD德拉古诺夫
     英文别名: SVD (rifle), SVD, Dragunov Sniper Rifle 1963, SVD Dragunov, SVD-63, Dragunov's sniper rifle, SVD狙击步枪 - SVD Sniper RifleSVD-63 - SVD-63德拉古诺夫狙击步枪 - Dragunov Sniper Rifle德拉古诺夫 - DragunovSVD - SVDSVD德拉古诺夫 - SVD Dragunov德拉古诺夫的狙击步枪 - Dragunov's Sniper Rifle1963年德拉古诺夫狙击步枪 - 1963 Dragunov Sniper Rifle, Dragunov
     链接: https://en.wikipedia.org/wiki/SVD_(rifle)

  3. 标题: SVD狙擊步槍 (得分: 17.4636)
     中文别名: SVD狙擊步槍, SVD, SVD Dragunov, SVD狙击步枪, 德拉古诺夫狙击步枪, SVD-63, 1963年德拉古诺夫狙击步枪, 德拉古诺夫的狙击步枪, 德拉古诺夫, SVD德拉古诺夫
     英文别名: SVD, Dragunov Sniper Rifle 1963, SVD Dragunov, SVD-63, Dragunov's sniper rifle, SVD狙击步枪 - SVD Sniper RifleSVD-63 - SVD-63德拉古诺夫狙击步枪 - Dragunov Sniper Rifle德拉古诺夫 - DragunovSVD - SVDSVD德拉古诺夫 - SVD Dragunov德拉古诺夫的狙击步枪 - Dragunov's Sniper Rifle1963年德拉古诺夫狙击步枪 - 1963 Dragunov Sniper Rifle, Dragunov
     链接: https://zh.wikipedia.org/wiki/SVD狙擊步槍

  4. 标题: 狙击步枪 (得分: 16.3424)
     中文别名: 狙击步枪, 狙击枪, 狙击步枪, 狙击步枪, 狙击枪, 狙击手
     英文别名: sniper, sniper rifle, sniper, sniper rifle, Sniper rifle, sniper,狙击步枪 (sniper rifle)
     链接: https://zh.wikipedia.org/wiki/狙击步枪

  5. 标题: Sniper_rifle (得分: 15.8202)
     中文别名: 狙击步枪, 狙击枪, 狙击步枪, 狙击步枪, 狙击枪, 狙击手
     英文别名: Sniper rifle, sniper, sniper rifle, sniper, sniper rifle, Sniper rifle, sniper,狙击步枪 (sniper rifle)
     链接: https://en.wikipedia.org/wiki/Sniper_rifle

  6. 标题: G43步枪 (得分: 15.5690)
     中文别名: G43步枪, Gew 43, Gew 43步枪, Gew43, 卡尔比勒43步枪, 短步枪43, 步枪43, 卡尔比勒43步枪, Gew 43步枪, 卡宾枪43
     英文别名: Kar 43, Gewehr 43, Karabiner 43, Gewehr 43, Kar 43, Carbine 43, Gewehr 43, Rifle 43, Gew 43, Karabiner 43, Gew43, Short Rifle 43, Karabiner 43 Rifle
     链接: https://zh.wikipedia.org/wiki/G43步枪

  7. 标题: 巴雷特M90狙擊步槍 (得分: 14.2287)
     中文别名: 巴雷特M90狙擊步槍, 巴雷特M90狙击步枪, 巴雷特M90狙击步枪, 巴雷特模型90, 巴雷特M90, M90
     英文别名: M90, Barrett M90, Barrett Model 90, Barrett M90, Barrett M90狙击步枪: Barrett M90 Sniper Rifle, Barrett Model 90, Barrett M90, M90
     链接: https://zh.wikipedia.org/wiki/巴雷特M90狙擊步槍

  8. 标题: MAS-36步枪 (得分: 13.9480)
     中文别名: MAS-36步枪, MAS-36步枪, MAS-36步枪
     英文别名: MAS-36 rifle, MAS-36 rifle
     链接: https://zh.wikipedia.org/wiki/MAS-36步枪

  9. 标题: 自动步枪 (得分: 13.9480)
     中文别名: 自动步枪, 自动步枪, 全自动步枪, 战斗步枪, 全自动步枪, 战斗步枪, 自动步枪
     英文别名: automatic rifle, automatic rifle, full-automatic rifle, Combat rifle
     链接: https://zh.wikipedia.org/wiki/自动步枪

  10. 标题: 突击步枪 (得分: 13.9480)
     中文别名: 突击步枪, 突击步枪, 突击步枪
     英文别名: assault rifle, assault rifle
     链接: https://zh.wikipedia.org/wiki/突击步枪

✓ '步枪' 的向量字段检查:
  1. 实体: 步枪
     descriptions_zh_vector: 不存在或为空
     descriptions_en_vector: 不存在或为空
     content_vector: 不存在或为空

  2. 实体: SVD_(rifle)
     descriptions_zh_vector: 不存在或为空
     descriptions_en_vector: 不存在或为空
     content_vector: 不存在或为空

  3. 实体: SVD狙擊步槍
     descriptions_zh_vector: 不存在或为空
     descriptions_en_vector: 不存在或为空
     content_vector: 不存在或为空

  4. 实体: 狙击步枪
     descriptions_zh_vector: 不存在或为空
     descriptions_en_vector: 不存在或为空
     content_vector: 不存在或为空

  5. 实体: Sniper_rifle
     descriptions_zh_vector: 不存在或为空
     descriptions_en_vector: 不存在或为空
     content_vector: 不存在或为空

--------------------------------------------------

检查实体: '坦克'
------------------------------
✓ 在ES中找到 '坦克' 的相关实体:
  1. 标题: M-43_57mm反坦克炮_(ZiS-2) (得分: 19.3531)
     中文别名: M-43 57mm反坦克炮 (ZiS-2), ZiS-2反坦克炮, 57毫米反坦克炮M1943, ZiS-2反坦克炮, M1943反坦克炮, ZIS-2 57毫米炮, ZIS2, ZiS-2
     英文别名: ZIS-2 57 mm gun, ZiS-2, 57毫米反坦克炮M1943, ZiS-2, M1943反坦克炮, ZiS-2, ZIS2, ZiS-2, ZiS-2, 57毫米反坦克炮M1943, ZiS-2 anti-tank gun, ZIS-2 57 mm gun, 57mm anti-tank gun M1943, M1943 anti-tank gun, M1943反坦克炮, ZIS2, ZIS-2 57mm gun
     链接: https://zh.wikipedia.org/wiki/M-43_57mm反坦克炮_(ZiS-2)

  2. 标题: 57_mm_anti-tank_gun_M1943_(ZiS-2) (得分: 18.6581)
     中文别名: M-43 57mm反坦克炮 (ZiS-2), ZiS-2反坦克炮, 57毫米反坦克炮M1943, ZiS-2反坦克炮, M1943反坦克炮, ZIS-2 57毫米炮, ZIS2, ZiS-2
     英文别名: 57 mm anti-tank gun M1943 (ZiS-2), ZIS-2 57 mm gun, ZiS-2, 57毫米反坦克炮M1943, ZiS-2, M1943反坦克炮, ZiS-2, ZIS2, ZiS-2, ZiS-2, 57毫米反坦克炮M1943, ZiS-2 anti-tank gun, ZIS-2 57 mm gun, 57mm anti-tank gun M1943, M1943 anti-tank gun, M1943反坦克炮, ZIS2, ZIS-2 57mm gun
     链接: https://en.wikipedia.org/wiki/57_mm_anti-tank_gun_M1943_(ZiS-2)

  3. 标题: 三號坦克 (得分: 16.6733)
     中文别名: 三號坦克, 三号战车, 三号坦克, 三号坦克, 三号战车, Pz III, PZ3, Ⅲ号坦克
     英文别名: Panzerkampfwagen III, Panzer III, Pz III, Panzer III, PZ3, Panzer III, PZ3: Panzer IIIⅢ号坦克: Tank IIIPz III: Panzer III三号坦克: No. 3 Tank三号战车: No. 3 Armored Vehicle, Pz III, PZ3, Panzer III, Panzerkampfwagen III
     链接: https://zh.wikipedia.org/wiki/三號坦克

  4. 标题: 坦克 (得分: 16.6375)
     中文别名: 坦克, 战车, 坦克, 战车, 军事坦克, 坦克, 战斗坦克
     英文别名: combat tank, tank, military tank, tank, panzer, tank, panzer, armoured vehicle, tank, Combat tank, military tank, combat tank
     链接: https://zh.wikipedia.org/wiki/坦克

  5. 标题: Panzer_III (得分: 16.4100)
     中文别名: 三號坦克, 三号战车, 三号坦克, 三号坦克, 三号战车, Pz III, PZ3, Ⅲ号坦克
     英文别名: Panzer III, Panzerkampfwagen III, Panzer III, Pz III, Panzer III, PZ3, Panzer III, PZ3: Panzer IIIⅢ号坦克: Tank IIIPz III: Panzer III三号坦克: No. 3 Tank三号战车: No. 3 Armored Vehicle, Pz III, PZ3, Panzer III, Panzerkampfwagen III
     链接: https://en.wikipedia.org/wiki/Panzer_III

  6. 标题: TAM坦克 (得分: 14.7039)
     中文别名: TAM坦克, TAM坦克, 阿根廷中型坦克, TAM, TAM坦克, TAMSE TAM, 蒂森亨舍尔 TAM
     英文别名: TAMSE TAM, TAM, Tanque Argentino Mediano, TAM, Thyssen Henschel TAM, TAM, Thyssen Henschel TAM, TAM, Argentine Medium Tank, TAMSE TAM, TAM Tank, Tanque Argentino Mediano
     链接: https://zh.wikipedia.org/wiki/TAM坦克

  7. 标题: Mark_I_坦克 (得分: 14.7039)
     中文别名: Mark I 坦克, Mk I坦克, 马克一型坦克, Mark I 坦克, 马克一型, 马克I型战车, 马克I型战车, Mark I 坦克, 马克I型, 马克一型坦克, 马克一型, Mk I坦克, 第一次世界大战时期的英国重型坦克
     英文别名: British heavy tanks of World War I, Mark I, Mk I tank, Mark I tank, Mark I, British heavy tanks of World War I, Mark I Tank
     链接: https://zh.wikipedia.org/wiki/Mark_I_坦克

  8. 标题: D2坦克 (得分: 14.7039)
     中文别名: D2坦克, D2坦克, 雷诺 Char D2, D2坦克, 雷诺 Char D2
     英文别名: Char D2, Renault Char D2, Char D2, D2 tank
     链接: https://zh.wikipedia.org/wiki/D2坦克

  9. 标题: G1坦克 (得分: 14.7039)
     中文别名: G1坦克, G1坦克, G1坦克
     英文别名: Char G1, Char G1
     链接: https://zh.wikipedia.org/wiki/G1坦克

  10. 标题: A7V坦克 (得分: 14.7039)
     中文别名: A7V坦克, A7V坦克, A7V坦克
     英文别名: A7V, A7V
     链接: https://zh.wikipedia.org/wiki/A7V坦克

✓ '坦克' 的向量字段检查:
  1. 实体: M-43_57mm反坦克炮_(ZiS-2)
     descriptions_zh_vector: 不存在或为空
     descriptions_en_vector: 不存在或为空
     content_vector: 不存在或为空

  2. 实体: 57_mm_anti-tank_gun_M1943_(ZiS-2)
     descriptions_zh_vector: 不存在或为空
     descriptions_en_vector: 不存在或为空
     content_vector: 不存在或为空

  3. 实体: 三號坦克
     descriptions_zh_vector: 不存在或为空
     descriptions_en_vector: 不存在或为空
     content_vector: 不存在或为空

  4. 实体: 坦克
     descriptions_zh_vector: 不存在或为空
     descriptions_en_vector: 不存在或为空
     content_vector: 不存在或为空

  5. 实体: Panzer_III
     descriptions_zh_vector: 不存在或为空
     descriptions_en_vector: 不存在或为空
     content_vector: 不存在或为空

--------------------------------------------------

检查实体: '战斗机'
------------------------------
✓ 在ES中找到 '战斗机' 的相关实体:
  1. 标题: 战斗机 (得分: 28.7169)
     中文别名: 战斗机, 战斗机, 战机, 歼击机, 战斗飞机, 战机, 战斗飞机, 猎机, 侦察机, 战斗机, 截击机, 飞机, 军用飞机, 歼击机
     英文别名: fighter aircraft, fighter, aircraft, fighter, fighter, fighter plane, fighter, hunter aircraft, fighter, military aircraft, fighter, fighter, pursuit aircraft, fighter, scout aircraft, fighter, fighter airplane, fighter, scout aircraft, Fighter aircraft, aircraft, fighter, aircraft, fighter, hunter aircraft, interceptor, military aircraft, fighter, fighter aircraft, combat aircraft, warplane, fighter plane, fighter airplane, military aircraft, fighter-jet, reconnaissance aircraft, pursuit aircraft
     链接: https://zh.wikipedia.org/wiki/战斗机

  2. 标题: J_35战斗机 (得分: 25.7269)
     中文别名: J 35战斗机, Saab 35 Draken, 萨博35战斗机, J 35, 萨博 Draken, Draken, 35 Draken, Saab 35 Draken, 萨博35战斗机, 萨博 35 Draken, S 35
     英文别名: 35 Draken, Saab 35 Draken, Draken, Saab 35 Draken, J 35, Saab 35 Draken, S 35, Saab 35 Draken, Saab Draken, Saab 35 Draken, J 35, Draken, 35 Draken, Saab 35 Draken, Saab 35 Fighter, Saab Draken, S 35
     链接: https://zh.wikipedia.org/wiki/J_35战斗机

  3. 标题: SAAB_37战斗机 (得分: 25.7269)
     中文别名: SAAB 37战斗机, 萨博-37战斗机, Viggen 战斗机, 萨博 37, 萨博-37战斗机, J37, Viggen 飞机, 萨博 Viggen, Viggen, 萨博 J 37, 萨博 37 Viggen
     英文别名: J37, Saab 37 Viggen, Viggen, Saab 37 Viggen, Saab 37, Saab 37 Viggen, Saab J 37, Saab 37 Viggen, Saab Viggen, Saab 37 Viggen, Viggen aircraft, Saab 37 Viggen, Viggen fighter, Saab 37 Viggen, Saab 37, Viggen Fighter, Viggen fighter, Viggen aircraft, Saab Viggen, J37, Saab J 37, Viggen, Viggen Aircraft, Saab-37 Fighter, Saab 37 Viggen
     链接: https://zh.wikipedia.org/wiki/SAAB_37战斗机

  4. 标题: 苏-27战斗机 (得分: 23.3008)
     中文别名: 苏-27战斗机, 侧卫, 苏恺-27, 苏-27战斗机, Su-27战斗机, 苏霍伊侧卫, 苏-27, 苏凯-27, 苏霍伊苏-27, 苏27, 苏霍伊苏-27侧卫B, Su-27, 苏恺-27战斗机
     英文别名: Sukhoi Su-27, Sukhoi Su-27 Flanker B, Su-27 Fighter, Sukhoi Flanker, SU27, Su-27, Flanker
     链接: https://zh.wikipedia.org/wiki/苏-27战斗机

  5. 标题: 苏-30战斗机 (得分: 23.3008)
     中文别名: 苏-30战斗机, 苏-30战斗机, 侧卫-C, 苏-30, Su-30, 苏霍伊苏-30, 苏30
     英文别名: Sukhoi Su-30, Su-30, Flanker-C, Su-30 fighter
     链接: https://zh.wikipedia.org/wiki/苏-30战斗机

  6. 标题: F-15J战斗机 (得分: 23.3008)
     中文别名: F-15J战斗机, F-15J战斗机, 三菱鹰J/DJ, F-15J战斗机, 鹰J, 三菱F-15J/DJ, 三菱F-15J, 三菱鹰J, 鹰J/DJ, F-15J/DJ
     英文别名: Eagle J/DJ, Mitsubishi F-15J, F-15J/DJ, Mitsubishi F-15J, Mitsubishi Eagle J/DJ, Mitsubishi F-15J, Mitsubishi F-15J/DJ, Mitsubishi F-15J, Eagle J, Mitsubishi F-15J, Mitsubishi Eagle J, Mitsubishi F-15J, Mitsubishi Eagle J, 鹰 J, F-15J fighter, Eagle J/DJ, Mitsubishi F-15J/DJ, Mitsubishi F-15J, Mitsubishi F-15J/DJ,鹰 J/DJ, Mitsubishi鹰J, Eagle J, Mitsubishi Eagle J/DJ, Mitsubishi F-1 J/DJ, F-15J/DJ
     链接: https://zh.wikipedia.org/wiki/F-15J战斗机

  7. 标题: F-16XL战斗机 (得分: 23.3008)
     中文别名: F-16XL战斗机, F-16XL战斗机, F16XL, 通用动力F-16XL战斗隼, F-16XL战斗机, F-16XL
     英文别名: F-16XL, General Dynamics F-16XL Fighting Falcon, F16XL, General Dynamics F-16XL Fighting Falcon, F16XL, General Dynamics F-16XL Fighting Falcon, F-16XL, F-16XL fighter aircraft
     链接: https://zh.wikipedia.org/wiki/F-16XL战斗机

  8. 标题: 震电战斗机 (得分: 23.3008)
     中文别名: 震电战斗机, 震电战斗机, 震电, 震电战斗机, 震电, 九州 J7W, J7W 震电
     英文别名: Kyushu J7W, J7W Shinden, Shinden Fighter, Kyushu J7W, J7W Shinden, Shinden
     链接: https://zh.wikipedia.org/wiki/震电战斗机

  9. 标题: MB.150战斗机 (得分: 23.3008)
     中文别名: MB.150战斗机, MB.150战斗机, MB.150战斗机
     英文别名: MB.150, MB.150
     链接: https://zh.wikipedia.org/wiki/MB.150战斗机

  10. 标题: 幼狮战斗机 (得分: 23.3008)
     中文别名: 幼狮战斗机, F-21战斗机, F-21, F-21战斗机, 以色列航空工业公司“狮”战斗机, F-21, “狮”战斗机
     英文别名: IAI Kfir, Kfir, Kfir aircraft, Kfir, Kfirs, Kfir, Kfir, 'Lion' fighter jet, F-21, Israel Aerospace Industries 'Lion' fighter jet, F-21 fighter jet, IAI Kfir
     链接: https://zh.wikipedia.org/wiki/幼狮战斗机

✓ '战斗机' 的向量字段检查:
  1. 实体: 战斗机
     descriptions_zh_vector: 不存在或为空
     descriptions_en_vector: 不存在或为空
     content_vector: 不存在或为空

  2. 实体: J_35战斗机
     descriptions_zh_vector: 不存在或为空
     descriptions_en_vector: 不存在或为空
     content_vector: 不存在或为空

  3. 实体: SAAB_37战斗机
     descriptions_zh_vector: 不存在或为空
     descriptions_en_vector: 不存在或为空
     content_vector: 不存在或为空

  4. 实体: 苏-27战斗机
     descriptions_zh_vector: 不存在或为空
     descriptions_en_vector: 不存在或为空
     content_vector: 不存在或为空

  5. 实体: 苏-30战斗机
     descriptions_zh_vector: 不存在或为空
     descriptions_en_vector: 不存在或为空
     content_vector: 不存在或为空

--------------------------------------------------
### check_vector_data.py
✓ BERT模型加载成功
============================================================
检查ES中向量数据的完整性
============================================================

索引 'data2' 总文档数: 5796

正在统计向量字段数据...
✓ 包含 descriptions_zh_vector 的文档数: 5796
✓ 包含 descriptions_en_vector 的文档数: 5796
✓ 包含 content_vector 的文档数: 0

============================================================
统计结果:
============================================================
总文档数: 5796
有 descriptions_zh_vector 的文档: 5796 (100.00%)
有 descriptions_en_vector 的文档: 5796 (100.00%)
有 content_vector 的文档: 0 (0.00%)

============================================================
样本文档检查:
============================================================

样本文档 1: Sukhoi_Su-7
  descriptions_zh_vector: ❌ (维度: 0)

样本文档 2: SEPECAT_Jaguar
  descriptions_zh_vector: ❌ (维度: 0)

样本文档 3: Tupolev_ANT-7
  descriptions_zh_vector: ❌ (维度: 0)

============================================================
搜索功能测试:
============================================================

🔍 测试向量搜索: '军事装备'
--------------------------------------------------
查询向量维度: 1024
✓ KNN搜索成功! 找到 5 个相关文档

1. 相似度: 0.9733
   标题: 中国人民解放军陆军装备部
   描述: 中国人民解放军陆军装备部，位于北京市，是中国人民解放军陆军机关职能部门，负责中国人民解放军陆军装备工作。
   链接: https://zh.wikipedia.org/wiki/中国人民解放军陆军装备部

2. 相似度: 0.9696
   标题: 中国人民解放军炮兵
   描述: 中国人民解放军炮兵，是中国人民解放军兵种。
   链接: https://zh.wikipedia.org/wiki/中国人民解放军炮兵

3. 相似度: 0.9688
   标题: Indian_Army_Armoured_Corps
   描述: 印度陆军装甲兵是印度陆军的一个分支，负责在战争中使用装甲战斗车辆，包括坦克。
   链接: https://en.wikipedia.org/wiki/Indian_Army_Armoured_Corps

4. 相似度: 0.9671
   标题: 中国空军
   描述: 中国空军，可以指：
   链接: https://zh.wikipedia.org/wiki/中国空军

5. 相似度: 0.9668
   标题: 中国人民解放军陆军防空兵
   描述: 中国人民解放军陆军防空兵，是中国人民解放军陆军兵种。
   链接: https://zh.wikipedia.org/wiki/中国人民解放军陆军防空兵

🔍 测试文本搜索: '军事装备'
--------------------------------------------------
✓ 文本搜索成功! 找到 4812 个相关文档

1. 相关度: 36.0483
   标题: 中国人民解放军陆军装备部
   描述: 中国人民解放军陆军装备部，位于北京市，是中国人民解放军陆军机关职能部门，负责中国人民解放军陆军装备工作。
   高亮(descriptions_zh): 中国人民解放<em>军</em>陆<em>军</em><em>装</em><em>备</em>部，位于北京市，是中国人民解放<em>军</em>陆<em>军</em>机关职能部门，负责中国人民解放<em>军</em>陆<em>军</em><em>装</em><em>备</em>工作。
   高亮(label): 中国人民解放<em>军</em>陆<em>军</em><em>装</em><em>备</em>部

2. 相关度: 35.2304
   标题: MAC-11衝鋒槍
   描述: MAC-11（英语：Military Armament Corporation Model 11，意为：军事装备公司11型，简称：M-11）是一款由戈登·B·英格拉姆于1972年所设计，军事装备公司（...
   高亮(descriptions_zh): MAC-11（英语：Military Armament Corporation Model 11，意为：<em>军</em><em>事</em><em>装</em><em>备</em>公司11型，简称：M-11）是一款由戈登·B·英格拉姆于1972年所设计，<em>军</em><em>事</em><em>装</em><em>备</em>公司（Military

3. 相关度: 35.2304
   标题: MAC-11
   描述: MAC-11（英语：Military Armament Corporation Model 11，意为：军事装备公司11型，简称：M-11）是一款由戈登·B·英格拉姆于1972年所设计，军事装备公司（...
   高亮(descriptions_zh): MAC-11（英语：Military Armament Corporation Model 11，意为：<em>军</em><em>事</em><em>装</em><em>备</em>公司11型，简称：M-11）是一款由戈登·B·英格拉姆于1972年所设计，<em>军</em><em>事</em><em>装</em><em>备</em>公司（Military

4. 相关度: 32.4776
   标题: 準軍事組織
   描述: 准军事组织（英语：paramilitary[注 1]）是组织结构、战术、训练程度和任务职责都高度军事化和专业化，但并不归属正规军名下的武装组织。
   高亮(descriptions_zh): 准<em>军</em><em>事</em>组织（英语：paramilitary[注 1]）是组织结构、战术、训练程度和任务职责都高度<em>军</em><em>事</em>化和专业化，但并不归属正规<em>军</em>名下的武<em>装</em>组织。
   高亮(label): 準軍<em>事</em>組織

5. 相关度: 32.4776
   标题: Paramilitary
   描述: 准军事组织（英语：paramilitary[注 1]）是组织结构、战术、训练程度和任务职责都高度军事化和专业化，但并不归属正规军名下的武装组织。
   高亮(descriptions_zh): 准<em>军</em><em>事</em>组织（英语：paramilitary[注 1]）是组织结构、战术、训练程度和任务职责都高度<em>军</em><em>事</em>化和专业化，但并不归属正规<em>军</em>名下的武<em>装</em>组织。

🔍 测试混合搜索: '军事装备'
--------------------------------------------------
✓ 混合搜索成功! 找到 5 个相关文档
  1. 相似度: 0.9741, 标题: 中国人民解放军陆军装备部
  2. 相似度: 0.9703, 标题: 中国人民解放军炮兵
  3. 相似度: 0.9679, 标题: Indian_Army_Armoured_Corps
  4. 相似度: 0.9668, 标题: 中国空军
  5. 相似度: 0.9668, 标题: 中国人民解放军陆军防空兵

==================================================

🔍 测试向量搜索: '战斗机'
--------------------------------------------------
查询向量维度: 1024
✓ KNN搜索成功! 找到 5 个相关文档

1. 相似度: 0.9681
   标题: 歼-12
   描述: 歼-12超音速超轻型歼击机，是南昌飞机制造厂于1970年代前期为中国人民解放军空军研制的前线战斗机。
   链接: https://zh.wikipedia.org/wiki/歼-12

2. 相似度: 0.9679
   标题: Nanchang_J-12
   描述: 歼-12超音速超轻型歼击机，是南昌飞机制造厂于1970年代前期为中国人民解放军空军研制的前线战斗机。
   链接: https://en.wikipedia.org/wiki/Nanchang_J-12

3. 相似度: 0.9675
   标题: Fuji_T-7
   描述: T-7教练机是一款由富士重工为日本航空自卫队研制的初级教练机。
   链接: https://en.wikipedia.org/wiki/Fuji_T-7

4. 相似度: 0.9675
   标题: T-7教練機
   描述: T-7教练机是一款由富士重工为日本航空自卫队研制的初级教练机。
   链接: https://zh.wikipedia.org/wiki/T-7教練機

5. 相似度: 0.9672
   标题: Mitsubishi_G3M
   描述: 九六式陆上攻击机是中日战争时日本帝国海军对中国城市进行轰炸的主力轰炸机。
   链接: https://en.wikipedia.org/wiki/Mitsubishi_G3M

🔍 测试文本搜索: '战斗机'
--------------------------------------------------
✓ 文本搜索成功! 找到 4821 个相关文档

1. 相关度: 43.0753
   标题: 战斗机
   描述: 战斗机（英语：Fighter aircraft）是一种空对空战斗用的军用飞机，主要用以对抗敌方的航空器，攻击空中目标，夺取、维护战场上的制空权，故其设计著重于提升机动力与运动性能。战斗机通常也被视为一...
   高亮(descriptions_zh): <em>战</em><em>斗</em><em>机</em>（英语：Fighter aircraft）是一种空对空<em>战</em><em>斗</em>用的军用飞<em>机</em>，主要用以对抗敌方的航空器，攻击空中目标，夺取、维护<em>战</em>场上的制空权，故其设计著重于提升<em>机</em>动力与运动性能。
   高亮(descriptions_zh): <em>战</em><em>斗</em><em>机</em>通常也被视为一个国家最重要的空中<em>战</em>力，亦是历来最复杂和精密的单人用武器。
   高亮(label): <em>战</em><em>斗</em><em>机</em>

2. 相关度: 38.5903
   标题: J_35战斗机
   描述: J 35「龙」（瑞典语:J 35 Draken）[2][3]是瑞典萨博集团研制的战斗机，亦是世界上首次运用双三角形机翼布局用于机体设计的全天候多用途战机。
   高亮(descriptions_zh): J 35「龙」（瑞典语:J 35 Draken）[2][3]是瑞典萨博集团研制的<em>战</em><em>斗</em><em>机</em>，亦是世界上首次运用双三角形<em>机</em>翼布局用于<em>机</em>体设计的全天候多用途<em>战</em><em>机</em>。
   高亮(label): J_35<em>战</em><em>斗</em><em>机</em>

3. 相关度: 38.5903
   标题: SAAB_37战斗机
   描述: Saab 37 雷式战斗机（瑞典/英语：Saab 37 Viggen）[Nb 1][1] ，是瑞典研制的单发单座战斗机，称为Viggen，瑞典语中是「雷」的意思。Saab 37在瑞典空军中服役，配套的...
   高亮(descriptions_zh): Saab 37 雷式<em>战</em><em>斗</em><em>机</em>（瑞典/英语：Saab 37 Viggen）[Nb 1][1] ，是瑞典研制的单发单座<em>战</em><em>斗</em><em>机</em>，称为Viggen，瑞典语中是「雷」的意思。
   高亮(descriptions_zh): Saab 37在瑞典空军中服役，配套的作<em>战</em>系统被称为第37武器系统，1967年首飞成功。隔年，Saab 37通过瑞典空军的验收，初步订购了超过800架，但后来只生产329架。
   高亮(label): SAAB_37<em>战</em><em>斗</em><em>机</em>

4. 相关度: 34.9512
   标题: 苏-27战斗机
   描述: 苏-27（俄语：Cy-27，拉丁字母转写 Su-27）是前苏联时期由苏霍伊设计局研制的双发、全天候、重型战斗机。由北约划定的北约代号为侧卫（英语：Flanker）。
   高亮(descriptions_zh): 苏-27（俄语：Cy-27，拉丁字母转写 Su-27）是前苏联时期由苏霍伊设计局研制的双发、全天候、重型<em>战</em><em>斗</em><em>机</em>。由北约划定的北约代号为侧卫（英语：Flanker）。
   高亮(label): 苏-27<em>战</em><em>斗</em><em>机</em>

5. 相关度: 34.9512
   标题: 苏-30战斗机
   描述: Su-30战斗机（苏-30战斗机，北约命名称为侧卫C，Flanker-C）是俄罗斯苏霍伊航空公司基于苏联时期开发的Su-27加以改进升级后的第四代重型双发动机双座多用途战机，为针对苏-27假想敌F-1...
   高亮(descriptions_zh): Su-30<em>战</em><em>斗</em><em>机</em>（苏-30<em>战</em><em>斗</em><em>机</em>，北约命名称为侧卫C，Flanker-C）是俄罗斯苏霍伊航空公司基于苏联时期开发的Su-27加以改进升级后的第四代重型双发动<em>机</em>双座多用途<em>战</em><em>机</em>，为针对苏-27假想敌F-15
   高亮(descriptions_zh): Su-30主要由阿穆尔河畔共青城加加林飞<em>机</em>制造厂以及伊尔库茨克飞<em>机</em>制造厂生产，前者的产品主要外销中国人民解放军，后者主要供货给印度空军，这款<em>战</em><em>机</em>也有诸多其他国家订购。
   高亮(label): 苏-30<em>战</em><em>斗</em><em>机</em>

🔍 测试混合搜索: '战斗机'
--------------------------------------------------
✓ 混合搜索成功! 找到 5 个相关文档
  1. 相似度: 0.9682, 标题: 歼-12
  2. 相似度: 0.9681, 标题: Fuji_T-7
  3. 相似度: 0.9679, 标题: Nanchang_J-12
  4. 相似度: 0.9675, 标题: T-7教練機
  5. 相似度: 0.9671, 标题: 九六式陸上攻擊機

==================================================

🔍 测试向量搜索: '航空母舰'
--------------------------------------------------
查询向量维度: 1024
✓ KNN搜索成功! 找到 5 个相关文档

1. 相似度: 0.9706
   标题: Task_Force_76
   描述: 美国海军第76特遣舰队通常由一个航空母舰打击群组成，包括一艘航空母舰及其舰载机联队、导弹巡洋舰、驱逐舰以及其他支援舰船。
   链接: https://en.wikipedia.org/wiki/Task_Force_76

2. 相似度: 0.9678
   标题: 辽宁号航空母舰
   描述: 辽宁号航空母舰，正式名称为中国人民解放军海军辽宁舰（舷号：16），是一艘隶属于中国人民解放军海军的航空母舰，是中国服役的第一艘航空母舰，亦是001型航空母舰的首艘和唯一一艘。该舰舰名源自其改造地辽宁省...
   链接: https://zh.wikipedia.org/wiki/辽宁号航空母舰

3. 相似度: 0.9677
   标题: USS_Cincinnati_(LCS-20)
   描述: 美国海军辛辛那提号（LCS-20）是一艘近海战斗舰，以俄亥俄州辛辛那提市命名，属于独立级近海战斗舰系列。
   链接: https://en.wikipedia.org/wiki/USS_Cincinnati_(LCS-20)

4. 相似度: 0.9676
   标题: Chinese_aircraft_carrier_Liaoning
   描述: 辽宁号航空母舰，正式名称为中国人民解放军海军辽宁舰（舷号：16），是一艘隶属于中国人民解放军海军的航空母舰，是中国服役的第一艘航空母舰，亦是001型航空母舰的首艘和唯一一艘。该舰舰名源自其改造地辽宁省...
   链接: https://en.wikipedia.org/wiki/Chinese_aircraft_carrier_Liaoning

5. 相似度: 0.9660
   标题: USS_Pearl_Harbor
   描述: “珍珠港”号是美国海军舰艇的名称，具体是指两栖指挥舰“珍珠港”号（LCC-11）。它担任一个远征打击群（ESG）的指挥舰，并为两栖作战提供海上指挥与控制。
   链接: https://en.wikipedia.org/wiki/USS_Pearl_Harbor

🔍 测试文本搜索: '航空母舰'
--------------------------------------------------
✓ 文本搜索成功! 找到 4085 个相关文档

1. 相关度: 54.5592
   标题: 航空母舰
   描述: 航空母舰，简称“航母”，别名CV，是一种以舰载机为主要作战武器的大型水面舰艇。它是现代海军力量的重要组成部分，能够执行多种海上和空中作战任务，包括防空、攻击地面和海上目标、海上封锁、力量投送以及支援登...
   高亮(descriptions_zh): <em>航</em><em>空</em><em>母</em><em>舰</em>，简称“<em>航</em><em>母</em>”，别名CV，是一种以<em>舰</em>载机为主要作战武器的大型水面<em>舰</em>艇。
   高亮(descriptions_zh): 它是现代海军力量的重要组成部分，能够执行多种海上和<em>空</em>中作战任务，包括防<em>空</em>、攻击地面和海上目标、海上封锁、力量投送以及支援登陆作战等。<em>航</em><em>空</em><em>母</em><em>舰</em>通常拥有巨大的飞行甲板，用于飞机的起飞和降落。
   高亮(label): <em>航</em><em>空</em><em>母</em><em>舰</em>

2. 相关度: 48.2921
   标题: Aircraft_carrier
   描述: 航空母舰，简称“航母”，别名CV，是一种以舰载机为主要作战武器的大型水面舰艇。它是现代海军力量的重要组成部分，能够执行多种海上和空中作战任务，包括防空、攻击地面和海上目标、海上封锁、力量投送以及支援登...
   高亮(descriptions_zh): <em>航</em><em>空</em><em>母</em><em>舰</em>，简称“<em>航</em><em>母</em>”，别名CV，是一种以<em>舰</em>载机为主要作战武器的大型水面<em>舰</em>艇。
   高亮(descriptions_zh): 它是现代海军力量的重要组成部分，能够执行多种海上和<em>空</em>中作战任务，包括防<em>空</em>、攻击地面和海上目标、海上封锁、力量投送以及支援登陆作战等。<em>航</em><em>空</em><em>母</em><em>舰</em>通常拥有巨大的飞行甲板，用于飞机的起飞和降落。

3. 相关度: 46.1825
   标题: CVX-class_aircraft_carrier
   描述: CVX级航空母舰[2]（朝鲜语：대형수송함-II／大型输送舰-II），原名为LPX-II，是韩国海军目前正在开发的航空母舰级别。该级是先前优先考虑两栖能力的独岛级两栖突击舰的后续，而CVX将被设计用于...
   高亮(descriptions_zh): CVX级<em>航</em><em>空</em><em>母</em><em>舰</em>[2]（朝鲜语：대형수송함-II／大型输送<em>舰</em>-II），原名为LPX-II，是韩国海军目前正在开发的<em>航</em><em>空</em><em>母</em><em>舰</em>级别。
   高亮(descriptions_zh): 该级是先前优先考虑两栖能力的独岛级两栖突击<em>舰</em>的后续，而CVX将被设计用于固定翼飞机和旋翼<em>航</em><em>空</em>器作战，构成传统的<em>航</em><em>空</em><em>母</em><em>舰</em>。

4. 相关度: 46.1825
   标题: CVX级航空母舰
   描述: CVX级航空母舰[2]（朝鲜语：대형수송함-II／大型输送舰-II），原名为LPX-II，是韩国海军目前正在开发的航空母舰级别。该级是先前优先考虑两栖能力的独岛级两栖突击舰的后续，而CVX将被设计用于...
   高亮(descriptions_zh): CVX级<em>航</em><em>空</em><em>母</em><em>舰</em>[2]（朝鲜语：대형수송함-II／大型输送<em>舰</em>-II），原名为LPX-II，是韩国海军目前正在开发的<em>航</em><em>空</em><em>母</em><em>舰</em>级别。
   高亮(descriptions_zh): 该级是先前优先考虑两栖能力的独岛级两栖突击<em>舰</em>的后续，而CVX将被设计用于固定翼飞机和旋翼<em>航</em><em>空</em>器作战，构成传统的<em>航</em><em>空</em><em>母</em><em>舰</em>。
   高亮(label): CVX级<em>航</em><em>空</em><em>母</em><em>舰</em>

5. 相关度: 43.9040
   标题: Essex-class_aircraft_carrier
   描述: 艾塞克斯级航空母舰（英语：Essex-class aircraft carrier）是美国在第二次世界大战前后建造的航空母舰。同时是史上建造数量最多的大型航空母舰，并在太平洋战争及韩战担当主力，少数艾...
   高亮(descriptions_zh): 艾塞克斯级<em>航</em><em>空</em><em>母</em><em>舰</em>（英语：Essex-class aircraft carrier）是美国在第二次世界大战前后建造的<em>航</em><em>空</em><em>母</em><em>舰</em>。
   高亮(descriptions_zh): 同时是史上建造数量最多的大型<em>航</em><em>空</em><em>母</em><em>舰</em>，并在太平洋战争及韩战担当主力，少数艾塞克斯级亦参与了越战。韩战后海军主要将艾塞克斯级重编为攻击<em>航</em><em>母</em>及反潜<em>航</em><em>母</em>，其后亦有改为两栖突击<em>舰</em>、训练<em>舰</em>、甚或飞机运输<em>舰</em>。

🔍 测试混合搜索: '航空母舰'
--------------------------------------------------
✓ 混合搜索成功! 找到 5 个相关文档
  1. 相似度: 0.9706, 标题: Task_Force_76
  2. 相似度: 0.9678, 标题: 辽宁号航空母舰
  3. 相似度: 0.9677, 标题: USS_Cincinnati_(LCS-20)
  4. 相似度: 0.9676, 标题: Chinese_aircraft_carrier_Liaoning
  5. 相似度: 0.9660, 标题: USS_Pearl_Harbor

==================================================

============================================================
诊断建议:
============================================================
✓ 向量数据完整性良好
✓ 搜索功能测试完成

